function loading(c,d){this.canvas=(typeof c=="String"?document.getElementById(c):c);if(d){this.radius=d.radius||10;this.circleLineWidth=d.circleLineWidth||4;this.circleColor=d.circleColor||"lightgray";this.dotColor=d.dotColor||"gray"}else{this.radius=10;this.circelLineWidth=4;this.circleColor="lightgray";this.dotColor="gray"}}loading.prototype={show:function(){var i=this.canvas;if(!i.getContext){return}if(i.__loading){return}i.__loading=this;var f=i.getContext("2d");var g=this.radius;var j=[{angle:0,radius:1.5},{angle:3/g,radius:2},{angle:7/g,radius:2.5},{angle:12/g,radius:3}];var h=this;i.loadingInterval=setInterval(function(){f.clearRect(0,0,i.width,i.height);var e=h.circleLineWidth;var m={x:i.width/2-g,y:i.height/2-g};f.beginPath();f.lineWidth=e;f.strokeStyle=h.circleColor;f.arc(m.x,m.y,g,0,Math.PI*2);f.closePath();f.stroke();for(var d=0;d<j.length;d++){var a=j[d].currentAngle||j[d].angle;var b={x:m.x-(g)*Math.cos(a),y:m.y-(g)*Math.sin(a)};var c=j[d].radius;f.beginPath();f.fillStyle=h.dotColor;f.arc(b.x,b.y,c,0,Math.PI*2);f.closePath();f.fill();j[d].currentAngle=a+4/g}},50)},hide:function(){var c=this.canvas;c.__loading=false;if(c.loadingInterval){window.clearInterval(c.loadingInterval)}var d=c.getContext("2d");if(d){d.clearRect(0,0,c.width,c.height)}}};(function(){function c(){this.tapTimeLimit=500}Array.prototype.each=function(g,a,b){a=a||0;b=b||this.length-1;for(var h=a;h<=b;h++){g(this[h],this,h);if(this.breakLoop){this.breakLoop=false;break}}};c.prototype={preventDefaultEvent:function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}},isTouchDevice:function(){return !!("ontouchstart" in window)},toMoney:function(a){return a.toFixed(JRJ.html54stock.gCvsCfg.code.substring(0,1)=="9"?3:2)},bigNumberToText:function(a){var h;var b=a/100000000;if(b>1){h=b.toFixed(2)+"\u4ebf"}else{var g=a/10000;if(g>1){h=g.toFixed()+"\u4e07"}else{h=a}}return h},getOffset:function(b){if(!isNaN(b.offsetX)&&!isNaN(b.offsetY)){return b}var e=b.target;if(e.offsetLeft==undefined){e=e.parentNode}var i=getPageCoord(e);var j={x:window.pageXOffset+b.clientX,y:window.pageYOffset+b.clientY};var a={offsetX:j.x-i.x,offsetY:j.y-i.y};return a},getPageCoord:function(b){var a={x:0,y:0};while(b){a.x+=b.offsetLeft;a.y+=b.offsetTop;b=b.offsetParent}return a},addLoadEvent:function(a){var b=window.onload;if(typeof b!="function"){window.onload=a}else{window.onload=function(){b();a()}}},addEvent:function(a,b,i,j){if(a.addEventListener){a.addEventListener(b,i,j);return true}else{if(a.attachEvent){var h=a.attachEvent("on"+b,i);return h}else{a["on"+b]=i}}},getEventTarget:function(a){return a.srcElement||a.target||a.relatedTarget},$id:function(a){return document.getElementById(a)}};window.extendObject=function(a,f){for(var b in a){f[b]=a[b]}};window.extendWindow=function(a){extendObject(a,window)};var d=new c();extendWindow(d);window.getQueryParam=function(b,g){var h=new RegExp("[?&]debug=([^&]+)","i");var a=h.exec(g?window.top.location.search:location.search);if(a&&a.length>1){return decodeURIComponent(a[1])}else{return""}};window.debug=getQueryParam("debug");window.setDebugMsg=function(a){if(window.debug){try{var g="debug";var b=$id(g);if(!b){b=document.createElement("DIV");b.id=g;document.body.appendChild(b)}b.innerHTML=(window.debug==2?(b.innerHTML+"<br/>"+a):a)}catch(h){alert(a+";error:"+h)}}};window.getAngle=function(b,m){var p=Math.abs(b.x-m.x);var a=Math.abs(b.y-m.y);var k=Math.sqrt(Math.pow(p,2)+Math.pow(a,2));var n=a/k;var o=Math.acos(n);var l=180/(Math.PI/o);return l};window.getTouchPoint=function(a){var f=y=0;var b=a.touches.item(0);f=b.pageX;y=b.pageY;return{x:f,y:y}};window.loadScript=function(i,a,b){var j=document.getElementsByTagName("head")[0]||document.documentElement;var k=document.createElement("script");k.setAttribute("language","javascript");if(b){k.setAttribute("charset",b)}k.setAttribute("src",i);var l=false;k.onload=k.onreadystatechange=function(){if(!l&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){l=true;a();k.onload=k.onreadystatechange=null;if(j&&k.parentNode){j.removeChild(k)}}};j.insertBefore(k,j.firstChild)};window.toMoney=d.toMoney})();var dashSize=2;function Painter(f,e,d){this.canvas=document.getElementById(f);if(!this.canvas.getContext){return}this.ctx=this.canvas.getContext("2d");this.data=d;this.paintImplement=e;this.width=this.canvas.width;this.height=this.canvas.height}Painter.prototype={paint:function(){var m=this.paintImplement;var l=this.data;var h=this.ctx;if(typeof m.initialize=="function"){m.initialize(this)}if(m.start){m.start.call(this)}if(typeof m.paintItems=="function"){m.paintItems.call(this)}else{var k=((typeof m.getDataLength=="function")?m.getDataLength.call(this):this.data.length);for(var n=0;n<k;n++){var i=m.getX?m.getX.call(this,n):undefined;var j=m.getY?m.getY.call(this,n):undefined;m.paintItem.call(this,n,i,j)}}if(m.end){m.end.call(this)}},drawHLine:function(n,m,k,o,i,j){var p=this.ctx;p.lineWidth=1;p.strokeStyle=n;if(k*10%10==0){k+=0.5}if(j&&j=="dashed"){var l=0;do{this.drawHLine(n,l,k,dashSize,1,"solid");l+=dashSize*2}while(l<o)}else{p.beginPath();p.moveTo(m,k);p.lineTo(m+o,k);p.stroke()}},drawVLine:function(n,m,k,l,p,h){var o=this.ctx;o.lineWidth=1;o.strokeStyle=n;if(m*10%10==0){m+=0.5}if(h&&h=="dashed"){var j=0;do{this.drawVLine(n,m,j,dashSize,1);j+=dashSize*2}while(j<l)}else{o.beginPath();o.moveTo(m,k);o.lineTo(m,k+l);o.stroke()}},setData:function(b){this.data=b},setPainterImplement:function(b){this.paintImplement=b}};var Ajax={};Ajax.request=function(j,m,k,l,h){h=h==undefined?true:h;var i=(window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):(window.XMLHttpRequest?new XMLHttpRequest():false));var n=document.getElementById(l);if(n&&h){n.loadingObj=new loading(n);n.loadingObj.show()}i.onreadystatechange=function(){if(i.readyState==4&&i.status==200){if(n&&h){n.loadingObj.hide()}k(i)}};i.open(j||"POST",m,true);if(i.overrideMimeType){i.overrideMimeType("text/xml")}i.send()};Ajax.get=function(e,g,h,f){Ajax.request("GET",e,g,h,f)};Ajax.post=function(e,g,h,f){Ajax.request("POST",e,g,h,f)};function crossLines(b){this.updateOptions(b)}crossLines.prototype={updateOptions:function(b){this.canvas=b.canvas;this.canvasId=this.canvas.id;this.horizontalDivId=this.canvasId+"_crossLines_H";this.verticalDivId=this.canvasId+"_crossLines_V";this.verticalRange=b.verticalRange||{y1:0,y2:this.canvas.height};this.horizontalRange=b.horizontalRange||{x1:0,x2:this.canvas.width};this.canvasPosition=getPageCoord(this.canvas);this.crossPoint=b.crossPoint;this.color=b.color||"black"},removeCrossLines:function(){var g=this.canvas;var i=g.id;var j=i+"_crossLines_H";var h=i+"_crossLines_V";var k=$id(j);if(k){k.style.display="none"}var l=$id(h);if(l){l.style.display="none"}},getHLine:function(){return $id(this.horizontalDivId)},getVLine:function(){return $id(this.verticalDivId)},setMouseEvents:function(d,c){this.hLineMouseEvt=d;this.vLineMouseEvt=c},updateCrossPoint:function(b){this.crossPoint=b;this.drawCrossLines()},drawCrossLines:function(){var s=this.canvas;var t=this.canvas.id;var p=t+"_crossLines_H";var o=t+"_crossLines_V";var r=this.verticalRange||{y1:0,y2:s.height};var v=this.horizontalRange||{x1:0,x2:s.width};var m=this.canvasPosition;if(this.crossPoint.x<v.x1||this.crossPoint.x>v.x2||this.crossPoint.y<r.y1||this.crossPoint.y>r.y2){this.removeCrossLines();return}var n=(s.style.zIndex||1)+1;var l=false;var q;if($id(p)){l=true;q=$id(p)}else{q=document.createElement("DIV");q.id=p}q.style.display="block";q.style.position="absolute";q.style.width=Math.round(v.x2-v.x1)+"px";q.style.height="1px";q.style.left=Math.round(m.x+v.x1)+"px";q.style.top=Math.round(this.crossPoint.y+m.y)+"px";q.style.backgroundColor=this.color;q.style.zIndex=n;if(!l){document.body.appendChild(q);if(typeof this.hLineMouseEvt=="function"){addEvent(q,"mouseover",this.hLineMouseEvt);addEvent(q,"mousemove",this.hLineMouseEvt)}}l=false;var u;if($id(o)){l=true;u=$id(o)}else{u=document.createElement("DIV");u.id=o}u.style.display="block";u.style.position="absolute";u.style.height=Math.round(r.y2-r.y1)+"px";u.style.width="1px";u.style.left=Math.round(this.crossPoint.x+m.x)+"px";u.style.top=Math.round(r.y1+m.y)+"px";u.style.backgroundColor=this.color;u.style.index=n;if(!l){document.body.appendChild(u);if(typeof this.vLineMouseEvt=="function"){addEvent(u,"mouseover",this.vLineMouseEvt);addEvent(u,"mousemove",this.vLineMouseEvt)}}}};function xAxis(b){this.options=b}xAxis.prototype={initialize:function(b){b.options=this.options},start:function(){var b=this.ctx;b.save();b.fillStyle=this.options.color;b.font=this.options.font;if(this.options.textBaseline){b.textBaseline=this.options.textBaseline}b.translate(this.options.region.x,this.options.region.y)},getY:function(){return 0},getX:function(c){if(c==0){return 0}var d=this.ctx.measureText(this.data[c]).width;if(c==this.data.length-1){return this.options.region.width-d}return(this.options.region.width*c/(this.data.length-1))-d/2},paintItem:function(d,e,f){this.ctx.fillText(this.data[d],e,f)},end:function(){this.ctx.restore()}};function TipG(b){extendObject(b,this)}TipG.prototype={getElementId:function(){return this.canvas.id+"_tip"},_getRightLimit:function(){return this.canvasRange.x/2+this.canvasRange.width/2},_getLeftLimit:function(){return this.canvasRange.x/2},_getTopLimit:function(){return this.canvasRange.y/2},_getBottomLimit:function(){return this.canvasRange.y/2+this.canvasRange.height/2},show:function(A,x){if(A){this.relativePoint=A}if(x){this.innerHTML=x}var p=$id(this.getElementId());var o=this.size;var z=this.offsetToPoint;var w=this.position;var A=this.relativePoint;var s=getPageCoord(this.canvas);var t=w.y||A.y;var q=w.x||A.x;var r=0;var u=0;if(w.x){r=w.x}else{if(p){var B=parseInt(p.style.left)-s.x;if(B>q){if(z+q+o.width>this._getRightLimit()){B=q-z-o.width}else{B=q+z}}else{if(q-z-o.width>this._getLeftLimit()){B=q-z-o.width}else{B=q+z}}r=B}else{r=q+z;if(r>this._getRightLimit()){r=q-z-o.width}}}if(w.y){u=w.y}else{if(p){var C=parseInt(p.style.top)-s.y;if(C>t){if(z+t+o.height>this._getBottomLimit()){C=t-z-o.height}else{C=t+z}}else{if(t-z-o.height>this._getTopLimit()){C=t-z-o.height}else{C=t+z}}u=C}else{u=t+z;if(u>this._getBottomLimit()){u=t-z-o.height}}}if(!p){p=document.createElement("DIV");p.id=this.getElementId();var v=this.opacity||100;p.style.cssText="-moz-opacity:."+v+"; filter:alpha(opacity="+v+"); opacity:"+(v/100)+';line-height:18px;font-family:Arial,"\ufffd\ufffd\ufffd\ufffd";font-size:9pt;padding:4px;';p.style.position="absolute";p.style.zIndex=4+(this.canvas.style.zIndex||1);p.style.backgroundColor="white";p.style.border="1px solid gray";p.style.width=this.size.width+"px";p.style.height=this.size.height+"px";if(this.cssClass){p.className=this.cssClass}document.body.appendChild(p)}r=s.x+r;u=s.y+u;p.style.left=r+"px";p.style.top=u+"px";p.style.display="block";p.innerHTML=this.innerHTML},hide:function(){var b=$id(this.getElementId());if(b){b.style.display="none"}},update:function(c,d){this.relativePoint=c;this.innerHTML=d;this.show()}};function linePainter(b){this.options=b}linePainter.prototype={initialize:function(b){b.options=this.options},getDataLength:function(){return this.options.getDataLength.call(this)},getX:function(b){return(b+1)*(this.options.region.width/this.options.maxDotsCount)},start:function(){var g=this.ctx;var j=this.options;var h=j.region;g.save();g.translate(h.x,h.y+h.height/2);var f=0;var i=this;this.data.items.each(function(b){var a=Math.abs(j.middleValue-j.getItemValue(b));f=Math.max(a,f)});this.maxDiff=f;g.beginPath();g.strokeStyle=j.lineColor;g.lineWidth=j.lineWidth||1},end:function(){this.ctx.stroke();this.ctx.restore()},getY:function(d){var e=this.options;var f=e.getItemValue(this.data.items[d])-e.middleValue;return 0-f*e.region.height/2/this.maxDiff},paintItem:function(h,f,g){var e=this.ctx;if(h==0){e.moveTo(f,g)}else{e.lineTo(f,g)}}};function volumePainter(b){this.options=b;this.barWidth=b.bar.width;this.spaceWidth=b.region.width/b.maxDotsCount-b.bar.width;if(this.spaceWidth<1){this.spaceWidth=0}if(this.barWidth*b.maxDotsCount>b.region.width){this.barWidth=b.region.width/b.maxDotsCount}}volumePainter.prototype={initialize:function(b){b.options=this.options;b.barWidth=this.barWidth;b.spaceWidth=this.spaceWidth},getDataLength:function(){return this.options.getDataLength.call(this)},getX:function(b){return this.options.region.x+b*(this.barWidth+this.spaceWidth)},start:function(){var e=this.ctx;var h=this.options;var g=h.region;e.save();var f=0;this.data.items.each(function(a){f=Math.max(f,a.volume)});this.maxVolume=f;e.fillStyle=h.bar.color},end:function(){this.ctx.restore()},getY:function(d){var c=this.options.region.y+(this.maxVolume-this.data.items[d].volume)*this.options.region.height/this.maxVolume;return c},paintItem:function(h,f,g){var e=this.ctx;e.beginPath();e.rect(f,g,this.barWidth,this.options.region.y+this.options.region.height-g);e.fill()}};function yAxis(b){this.scalerOptions=b}yAxis.prototype={initialize:function(b){b.scalerOptions=this.scalerOptions},start:function(){var b=this.ctx;b.save();if(typeof this.scalerOptions.color=="string"){b.fillStyle=this.scalerOptions.color}b.font=this.scalerOptions.font;b.translate(this.scalerOptions.region.x,this.scalerOptions.region.y);if(this.scalerOptions.textBaseline){b.textBaseline=this.scalerOptions.textBaseline}},end:function(){this.ctx.restore()},getX:function(c){if(this.scalerOptions.align=="left"){return 0}var d=this.ctx.measureText(this.data[c]).width;return this.scalerOptions.region.width-d},getY:function(b){if(b==0){return 0}if(b==this.data.length-1){return this.scalerOptions.region.height-this.scalerOptions.fontHeight}return(this.scalerOptions.region.height*b/(this.data.length-1)-this.scalerOptions.fontHeight/2)},paintItem:function(d,e,f){if(typeof this.scalerOptions.color=="function"){this.ctx.fillStyle=this.scalerOptions.color(this.data[d])}this.ctx.fillText(this.data[d],e,f)}};function calcAxisValues(m,i,o,k){var l=m-i;var n=l/(o-1);var j=[];if(typeof k=="undefined"){k=toMoney}for(var p=0;p<o;p++){j.push(toMoney(m-p*n))}return j}function disableBubbleAndPreventDefault(b){if(b.preventDefault){b.preventDefault()}b.cancelBubble=true}function setTouchEventOffsetPosition(h,e){h=h||event;if(h.touches&&h.touches.length){h=h.touches[0]}else{if(h.changedTouches&&h.changedTouches.length){h=h.changedTouches[0]}}var f,g;f=h.pageX-e.x;g=h.pageY-e.y;return{offsetX:f,offsetY:g}}function crossLinesAndTipMgr_k(c,d){if(typeof TipG!="function"){window.TipG=function(){};window.TipG.prototype={show:function(){},hide:function(){},update:function(){}}}this.canvas=c;this.options=d}crossLinesAndTipMgr_k.prototype._removeTipAndCrossLines=function(){var b=this;if(b.tip){b.tip.hide()}if(b.clsMgr){b.clsMgr.removeCrossLines()}};crossLinesAndTipMgr_k.prototype.updateOptions=function(b){this.options=b};crossLinesAndTipMgr_k.prototype._onMouseOrTouchMove=function(q){q=q||event;q=getOffset(q);var r=this;var l=r.options;var v=r.canvas;var p=getPageCoord(v);var t=l.triggerEventRanges;if(q.offsetX/2<t.x/4||q.offsetX/2>t.x/2+t.width/2||q.offsetY/2<t.y/4||q.offsetY/2>t.y/2+t.height/2){r._removeTipAndCrossLines();return}var u=l.getCrossPoint(q);var n={crossPoint:u,verticalRange:{y1:t.y/2,y2:t.y/2+t.height/2},horizontalRange:{x1:t.x/2,x2:t.x/2+t.width/2},color:l.crossLineOptions.color,canvas:v};if(!r.clsMgr){var m=new crossLines(n);m.setMouseEvents(function(c){c=c||event;c=getOffset(c);var a={offsetX:c.offsetX+t.x,offsetY:parseInt(r.clsMgr.getHLine().style.top)-p.y};var b=l.getCrossPoint(a);m.updateCrossPoint(b);if(r.tip){r.tip.update(b,l.tipOptions.getTipHtml(a))}},function(c){c=c||event;c=getOffset(c);var a={offsetX:parseInt(r.clsMgr.getVLine().style.left)-p.x,offsetY:c.offsetY+t.y};var b=l.getCrossPoint(a);m.updateCrossPoint(b);if(r.tip){r.tip.update(b,l.tipOptions.getTipHtml(a))}});r.clsMgr=m}else{r.clsMgr.updateOptions(n)}r.clsMgr.drawCrossLines();if(l.tipOptions){var s=l.tipOptions;if(!r.tip){var o=new TipG({position:{x:s.position.x||false,y:s.position.y||false},size:s.size,opacity:s.opacity||80,cssClass:s.cssClass,offsetToPoint:s.offsetToPoint||30,relativePoint:{x:u.x/2,y:u.y/2},canvas:v,canvasRange:l.triggerEventRanges,innerHTML:s.getTipHtml(q)});r.tip=o}r.tip.show(u,s.getTipHtml(q))}};crossLinesAndTipMgr_k.prototype._touchstart=function(d){d=d||event;var c=d.srcElement||d.target||d.relatedTarget;this.touchstartTime=new Date()};crossLinesAndTipMgr_k.prototype._touchmove=function(i){i=i||event;var e=this.canvas;var j=getPageCoord(e);var h=i.srcElement||i.target||i.relatedTarget;var g=setTouchEventOffsetPosition(i,j);this._onMouseOrTouchMove(g)};crossLinesAndTipMgr_k.prototype._touchend=function(j){j=j||event;var i=j.srcElement||j.target||j.relatedTarget;var e=this.canvas;var h=setTouchEventOffsetPosition(j,getPageCoord(e));this._removeTipAndCrossLines();var k=new Date();var l=k.getTime()-this.touchstartTime.getTime();if(l<200){if(typeof this.options.onClick=="function"){this.options.onClick()}}};crossLinesAndTipMgr_k.prototype._mouseout=function(i){var h=i||event;i=getOffset(h);var j=this;var g=j.options.triggerEventRanges;if(i.offsetX/2<g.x/4||i.offsetX/2>g.x/2+g.width/2||i.offsetY/2<g.y/4||i.offsetY/2>g.y/2+g.height/2){j._removeTipAndCrossLines();return}var e=h.toElement||h.relatedTarget||h.target;if(e){if(e==j.canvas){return}if(e==j.clsMgr.getHLine()||e==j.clsMgr.getVLine()){return}j._removeTipAndCrossLines()}};crossLinesAndTipMgr_k.prototype.addCrossLinesAndTipEvents=function(){var k=this.canvas;var l=this.options;var h=getPageCoord(k);var g=isTouchDevice();var i=this;var j=i.options.controllerEvents;if(g){addEvent(k,"touchstart",function(a){a=a||event;i.touchstartTime=new Date();i.continueTime=null;if(i.options.shouldDoControllerEvent(a,"touchstart")){j.onStart(a)}else{i._touchstart.call(i,a)}});addEvent(k,"touchmove",function(a){a=a||event;i.touchmoveTime=new Date();if(i.touchmoveTime.getTime()-i.touchstartTime.getTime()<=200){i.continueTime=i.touchmoveTime.getTime()-i.touchstartTime.getTime()}if(!!i.continueTime){return}disableBubbleAndPreventDefault(a);if(i.options.shouldDoControllerEvent(a,"touchmove")){j.onMove(a)}else{i._touchmove.call(i,a)}});addEvent(k,"touchend",function(a){a=a||event;i.continueTime=null;if(i.options.shouldDoControllerEvent(a,"touchend")){j.onEnd(a)}i._touchend.call(i,a)})}else{addEvent(k,"mouseout",function(a){if(i.options.shouldDoControllerEvent(a)){j.onEnd(a)}else{i._mouseout.call(i,a)}});addEvent(k,"mousemove",function(a){if(i.options.shouldDoControllerEvent(a)){j.onMove(a)}else{i._onMouseOrTouchMove.call(i,a)}});addEvent(k,"mousedown",function(a){if(i.options.shouldDoControllerEvent(a)){j.onStart(a)}});addEvent(k,"mouseup",function(a){j.onEnd(a)});if(typeof l.onClick=="function"){addEvent(k,"click",l.onClick)}}};function addCrossLinesAndTipEvents(c,d){if(!c.crossLineAndTipMgrInstance){c.crossLineAndTipMgrInstance=new crossLinesAndTipMgr_k(c,d);c.crossLineAndTipMgrInstance.addCrossLinesAndTipEvents()}}function controller(c,d){this.canvas=$id(c);this.ctx=this.canvas.getContext("2d");this.region=d.region;this.bar=d.bar;this.value=d.value;this.minBarDistance=d.minBarDistance||5;this.onPositionChanged=d.onPositionChanged;this.prePaint=d.prePaint;this.isTouchDevice=isTouchDevice();this.touchFaultTolerance=d.touchFaultTolerance}controller.prototype={calcPositions:function(){var b=(this.region.width-this.bar.width);this.leftBarPosition=this.value.left*b/100+this.bar.width/2;this.rightBarPosition=this.value.right*b/100+this.bar.width/2},drawControllerPart:function(){var p=this.canvas;var j=this.ctx;j.save();var k=this.region;var m=this.bar;this.calcPositions();var n=this.leftBarPosition;var i=this.rightBarPosition;j.clearRect(k.x-1,k.y-1,k.width+1,k.height+1);if(typeof this.prePaint=="function"){this.prePaint(j)}j.lineWidth=1;j.strokeStyle=k.borderColor;j.beginPath();j.moveTo(k.x,k.y);j.lineTo(k.x,k.y+k.height);j.lineTo(k.x+n,k.y+k.height);j.lineTo(k.x+n,k.y+k.height-(k.height-m.height)/2);j.stroke();j.strokeStyle=k.borderColor;j.beginPath();j.moveTo(k.x+n,k.y+k.height/2-m.height/2);j.lineTo(k.x+n,k.y);j.lineTo(k.x,k.y);j.stroke();j.beginPath();j.moveTo(k.x+n,k.y+k.height);j.lineTo(k.x+k.width,k.y+k.height);j.lineTo(k.x+k.width,k.y);j.lineTo(k.x+i,k.y);j.lineTo(k.x+i,k.y+k.height/2-m.height/2);j.stroke();j.beginPath();j.moveTo(k.x+i,k.y+k.height/2+m.height/2);j.lineTo(k.x+i,k.y+k.height);j.stroke();j.beginPath();j.fillStyle="blue";j.globalAlpha=0.5;j.rect(k.x+n,k.y,i-n,k.height);j.closePath();j.fill();j.globalAlpha=1;j.strokeStyle=m.borderColor;j.fillStyle=m.fillColor;j.beginPath();var l={x:k.x+n-m.width/2,y:k.y+k.height/2-m.height/2,width:m.width,height:m.height};j.rect(l.x,l.y,l.width,l.height);this.leftBarRegion=l;j.closePath();j.stroke();j.fill();j.beginPath();var o={x:k.x+i-m.width/2,y:k.y+k.height/2-m.height/2,width:m.width,height:m.height};j.rect(o.x,o.y,o.width,o.height);this.rightBarRegion=o;j.closePath();j.stroke();j.fill();j.restore()},setLeftBarPosition:function(b){if(b<this.bar.width/2){this.leftBarPosition=this.bar.width/2}else{if(this.rightBarPosition-b-this.minBarDistance>this.bar.width){this.leftBarPosition=b}else{this.leftBarPosition=this.rightBarPosition-this.bar.width-this.minBarDistance}}this.value=this.getValue()},setRightBarPosition:function(b){if(b<this.leftBarPosition+this.bar.width+this.minBarDistance){this.rightBarPosition=this.leftBarPosition+this.bar.width+this.minBarDistance}else{if(b>this.region.width-this.bar.width/2){this.rightBarPosition=this.region.width-this.bar.width/2}else{this.rightBarPosition=b}}this.value=this.getValue()},addControllerEvents:function(){var j=this;if(j.isTouchDevice){var g=j.canvas;addEvent(g,"touchmove",function(d){d=d||event;var x=d.srcElement||d.target||d.relatedTarget;var e=d.touches;if(!e||!e.length){return}var t=false;var c=getPageCoord(this.canvas);if(j.fingers&&j.fingers.length){for(var s=0;s<j.fingers.length;s++){var b=j.fingers[s];for(var v=0;v<e.length;v++){var u=e[v];if(u.identifier==b.id){var w=u.pageX-c.x;var a=(w-b.startX);if(a!=0){if(b.type=="left"){j.setLeftBarPosition(b.leftPosition+a)}else{if(b.type=="right"){j.setRightBarPosition(b.rightPosition+a)}else{j.setLeftBarPosition(b.leftPosition+a);j.setRightBarPosition(b.rightPosition+a)}}t=true}break}}}}if(t){j.drawControllerPart();if(typeof j.onPositionChanged=="function"&&j.isValueChanged()){j.value=j.getValue();j.onPositionChanged(j.value)}}disableBubbleAndPreventDefault(d)});addEvent(g,"touchend",function(a){a=a||event;if(j.fingers&&j.fingers.length){if(typeof j.onPositionChanged=="function"&&j.isValueChanged()){j.value=j.getValue();j.onPositionChanged(j.value)}}else{var c=new Date().getTime()-j.touchstartTime.getTime();if(c<window.tapTimeLimit&&j.startTouch){var e=getPageCoord(j.canvas);var m=j.startTouch;var n={offsetX:m.pageX-e.x,offsetY:m.pageY-e.y};var b=(j.rightBarPosition+j.leftBarPosition)/2;var d=n.offsetX-b;j.setLeftBarPosition(j.leftBarPosition+d);j.setRightBarPosition(j.rightBarPosition+d);j.drawControllerPart();if(typeof j.onPositionChanged=="function"&&j.isValueChanged()){j.value=j.getValue();j.onPositionChanged(j.value)}j.startTouch=null}}j.fingers=null;disableBubbleAndPreventDefault(a)});addEvent(g,"touchstart",function(e){var r=e.touches;if(!r||!r.length){r=e.changedTouches}j.touchstartTime=new Date();j.startTouch=r[0];var u=e.srcElement||e.target||e.relatedTarget;var c=getPageCoord(j.canvas);function d(k){if(j.isOnLeftBar(k)){return"left"}if(j.isOnRightBar(k)){return"right"}if(j._isBetweenLeftAndRight(k)){return"middle"}return false}j.fingers=[];if(r.length){for(var s=0;s<r.length;s++){var t=r[s];var a={offsetX:t.pageX-c.x,offsetY:t.pageY-c.y};var q=d(a);if(!q){continue}var b={id:t.identifier,startX:t.pageX-c.x,type:q,leftPosition:j.leftBarPosition,rightPosition:j.rightBarPosition};j.fingers.push(b)}}disableBubbleAndPreventDefault(e);return false})}else{var h=function(a){var c=j.isOnLeftBar(a);var d=j.isOnRightBar(a);if(j._isBetweenLeftAndRight(a)){document.body.style.cursor="pointer"}else{if(c||d||j.triggerBar){document.body.style.cursor="col-resize"}else{document.body.style.cursor="default"}}if(j.triggerBar){j.triggerBar.targetX=a.offsetX;var b=(j.triggerBar.targetX-j.triggerBar.x);if(j.triggerBar.type=="left"){document.body.style.cursor="col-resize";j.setLeftBarPosition(j.triggerBar.position+b)}else{if(j.triggerBar.type=="right"){j.setRightBarPosition(j.triggerBar.position+b)}else{j.setLeftBarPosition(j.triggerBar.leftPosition+b);j.setRightBarPosition(j.triggerBar.rightPosition+b)}}if(typeof j.onPositionChanged=="function"&&j.isValueChanged()){j.value=j.getValue();j.onPositionChanged(j.value)}j.drawControllerPart()}};var f=function(a){if(j.triggerBar){}j.triggerBar=null;document.body.style.cursor="default";if(typeof j.onPositionChanged=="function"&&j.isValueChanged()){j.value=j.getValue();j.onPositionChanged(j.value)}};var i=function(a){var b=j.isOnLeftBar(a);var c=j.isOnRightBar(a);var d=j._isBetweenLeftAndRight(a);if(d){document.body.style.cursor="pointer"}else{if(b||c){document.body.style.cursor="col-resize"}else{document.body.style.cursor="default"}}if(b){j.triggerBar={type:"left",x:a.offsetX,position:j.leftBarPosition}}else{if(c){j.triggerBar={type:"right",x:a.offsetX,position:j.rightBarPosition}}else{if(d){j.triggerBar={type:"middle",x:a.offsetX,leftPosition:j.leftBarPosition,rightPosition:j.rightBarPosition}}else{j.triggerBar=null}}}};addEvent(j.canvas,"mouseup",f);addEvent(j.canvas,"mouseout",f);addEvent(j.canvas,"mousemove",function(a){a=a||event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}var b=getOffset(a);h(b)});addEvent(j.canvas,"mousedown",function(a){a=a||event;var b=getOffset(a);i(b)})}},isValueChanged:function(){if(typeof this.preValue=="undefined"){this.preValue=this.getValue();return false}if(isTouchDevice()&&this.latestChangeTime){var f=new Date();if(f.getTime()-this.latestChangeTime.getTime()<50){return false}}var i=this.preValue;var j=this.getValue();var h=Math.abs(j.left-i.left)+Math.abs(j.right-i.right);this.preValue=j;var g=h!=0;if(g){this.latestChangeTime=new Date()}return h!=0},_isInRegion:function(d,c){return d.offsetX>c.x&&d.offsetX<c.x+c.width&&d.offsetY>c.y&&d.offsetY<c.y+c.height},_isBetweenLeftAndRight:function(d){var f=this.region;var e={x:f.x+this.leftBarPosition+this.bar.width/2,y:f.y,width:this.rightBarPosition-this.leftBarPosition-this.bar.width,height:this.region.height};return this._isInRegion(d,e)},_getTouchFaultToleranceRegion:function(c){var d=this;if(d.isTouchDevice){c.x-=d.touchFaultTolerance/2;c.width+=d.touchFaultTolerance/2}return c},isOnLeftBar:function(d){var c=this._getTouchFaultToleranceRegion(this.leftBarRegion);return this._isInRegion(d,c)},isOnRightBar:function(d){var c=this._getTouchFaultToleranceRegion(this.rightBarRegion);return this._isInRegion(d,c)},getValue:function(){var b=this.region.width-this.bar.width;return{left:(this.leftBarPosition-this.bar.width/2)*100/b,right:(this.rightBarPosition-this.bar.width/2)*100/b}}};
function convertDate(g,b){var c=Math.ceil(g/10000)-1;var a=g%100;var e=(Math.ceil(g/100)-1)%100;var f=new Date();f.setYear(c);f.setMonth(e-1);f.setDate(a);if(e<10){e="0"+e}if(a<10){a="0"+a}if(b){var h=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"];return c+"-"+e+"-"+a+"(\u661f\u671f"+h[f.getDay()]+")"}else{return c+"-"+e+"-"+a}}function calcMAPrices(g,h,d,f){var l=new Array();for(var c=h;c<h+d;c++){var j=c-f+1;if(j<0){l.push(false);continue}var e=0;for(var b=j;b<=c;b++){e+=g[b].close}var a=e/f;l.push(a)}return l}function kLine(a){this.options=a;this.dataRanges=null}kLine.prototype={initialize:function(a){a.klOptions=this.options;a.implement=this},start:function(){var a=this.canvas;var h=this.ctx;this.painting=true;var j=this.klOptions;var c={width:a.width,height:j.priceLine.region.y-3};h.clearRect(0,0,c.width,c.height);h.save();window.riseColor=j.riseColor;window.fallColor=j.fallColor;window.normalColor=j.normalColor;if(j.backgroundColor&&!this.drawnBackground){h.beginPath();h.lineWidth=1;h.fillStyle=j.backgroundColor;h.rect(0,0,c.width,c.height);h.fill();this.drawnBackground=true}h.translate(j.region.x,j.region.y);h.strokeStyle=j.borderColor;h.beginPath();h.lineWidth=1;h.rect(0,0,j.region.width,j.region.height);h.stroke();var f=j.region.height/(j.horizontalLineCount+1);for(var b=1;b<=j.horizontalLineCount;b++){var d=f*b;if(d*10%10==0){d+=0.5}this.drawHLine(j.splitLineColor,0,d,j.region.width,1,j.lineStyle)}var g=j.region.width/(j.verticalLineCount+1);for(var b=1;b<=j.verticalLineCount;b++){var e=g*b;if(e*10%10==0){e+=0.5}this.drawVLine(j.splitLineColor,e,0,j.region.height,1,j.lineStyle)}},end:function(){this.ctx.restore();var d=this;var l=d.klOptions;var f=l.region;var c=l.volume.region;function a(m){m=m-f.x/2;var n=Math.ceil(m/(d.klOptions.spaceWidth/2+d.klOptions.barWidth/2))-1;var o=d.toIndex-d.startIndex+1;if(n>=o){n=o-1}return n}function j(m){var n=a(m);return f.x/2+d.klOptions.spaceWidth/2*(n+1)+d.klOptions.barWidth/2*n+d.klOptions.barWidth/2*0.5}function h(n,m){if(m>n.preClose){return riseColor}else{if(m<n.preClose){return fallColor}else{return normalColor}}}function k(m){var n=d.startIndex+a(m);if(n>=d.data.ks.length){n=d.data.ks.length-1}if(n<0){n=0}var p=d.data.ks[n];var o="<div><b>"+convertDate(p.quoteTime)+'</b></div>\u6628\u6536\u4ef7\uff1a<font color="'+h(p,p.preClose)+'">'+toMoney(p.preClose)+'</font><br/>\u5f00\u76d8\u4ef7\uff1a<font color="'+h(p,p.open)+'">'+toMoney(p.open)+'</font><br/>\u6700\u9ad8\u4ef7\uff1a<font color="'+h(p,p.high)+'">'+toMoney(p.high)+'</font><br/>\u6700\u4f4e\u4ef7\uff1a<font color="'+h(p,p.low)+'">'+toMoney(p.low)+'</font><br/>\u6536\u76d8\u4ef7\uff1a<font color="'+h(p,p.close)+'">'+toMoney(p.close)+"</font><br/>\u6210\u4ea4\u91cf\uff1a"+bigNumberToText(p.volume/100)+"\u624b<br/>\u6210\u4ea4\u989d\uff1a"+bigNumberToText(p.amount);return o}var i=function(m){var n=isTouchDevice()?setTouchEventOffsetPosition(m,getPageCoord(d.canvas)):getOffset(m);return n};var e=l.controllerEvents.call(d,i,f);var g={width:30,height:20};function b(w,A){if(A==undefined){return true}if(typeof d.shouldController=="undefined"){d.shouldController=true}if(A=="touchstart"){var q=i(w);var o=false;var y=q.offsetX;y=y-f.x/2;var s=Math.ceil(y/(d.klOptions.spaceWidth/2+d.klOptions.barWidth/2))-1;var v=Math.ceil(g.width/(d.klOptions.spaceWidth/2+d.klOptions.barWidth/2))+1;var p=Math.max(0,s-v/2);var t=Math.min(d.filteredData.length-1,s+v/2);var z=999999;var n=-1;for(s=p;s<=t;s++){var r=d.filteredData[s];if(!!r){var m=f.y+(d.high-r.high)*f.height/2/(d.high-d.low)-g.height;var u=f.y+(d.high-r.low)*f.height/2/(d.high-d.low)+g.height;z=Math.min(m,z);n=Math.max(u,n)}}o=q.offsetY>=z&&q.offsetY<=n;setDebugMsg("yMin="+z+",yMax="+n+",offsetY="+q.offsetY+",showTip="+o);d.shouldController=!o}setDebugMsg("shouldController="+d.shouldController);return false}if(!d.crossLineAndTipMgrInstance){d.crossLineAndTipMgrInstance=new crossLinesAndTipMgr_k(d.canvas,{getCrossPoint:function(m){return{x:j(m.offsetX),y:m.offsetY}},triggerEventRanges:{x:f.x,y:f.y+1,width:f.width,height:c.y+c.height-f.y},tipOptions:{getTipHtml:function(m){return k(m.offsetX)},size:{width:120,height:150},position:{x:false,y:f.y+(f.height-150)/3},opacity:80,cssClass:"",offsetToPoint:30},crossLineOptions:{color:"black"},shouldDoControllerEvent:b,controllerEvents:e});d.crossLineAndTipMgrInstance.addCrossLinesAndTipEvents()}else{d.crossLineAndTipMgrInstance.updateOptions({getCrossPoint:function(m){return{x:j(m.offsetX),y:m.offsetY}},triggerEventRanges:{x:f.x,y:f.y+1,width:f.width,height:c.y+c.height-f.y},tipOptions:{getTipHtml:function(m){return k(m.offsetX)},size:{width:120,height:150},position:{x:false,y:f.y+(f.height-150)/3},opacity:80,cssClass:"",offsetToPoint:30},crossLineOptions:{color:"black"},shouldDoControllerEvent:b,controllerEvents:e})}if(!d.addOrentationChangedEvent){d.addOrentationChangedEvent=true;addEvent(window,"orientationchange",function(m){d.requestController=true;d.implement.onOrentationChanged.call(d)})}d.painting=false},paintItems:function(){var d=this.klOptions;var e=d.region;var k=this.data.ks.length;var z=true;if(this.dataRanges==null){var G=Math.ceil(e.width/(d.spaceWidth+d.barWidth))-1;if(G>k){G=k}this.dataRanges={start:100*(this.data.ks.length-G)/this.data.ks.length,to:100};if(G<k){z=false}else{z=true}}var n=this.dataRanges;var j=Math.ceil(n.start/100*k);var w=Math.ceil(n.to/100*k);if(w==k){w=k-1}this.startIndex=j;this.toIndex=w;var o=w-j+1;if(z){function m(){return(d.spaceWidth+d.barWidth)*o<=e.width}var g,t;if(m()){g=1;t=(e.width-g*o)/o;if(t>4){g=2;t=((e.width-g*o)/o);t=t>=30?30:t}}else{g=1;t=(e.width-g*o)/o;if(t<=2){g=0;t=(e.width-g*o)/o}else{if(t>4){g=2;t=((e.width-g*o)/o)}}}d.barWidth=t;d.spaceWidth=g}var s=[];for(var A=j;A<=w&&A<k;A++){s.push(this.data.ks[A])}var q,H;s.each(function(K,I,J){if(J==0){q=K.high;H=K.low}else{q=Math.max(K.high,q);H=Math.min(H,K.low)}});this.high=q;this.low=H;var v=this.ctx;var F=this;this.implement.paintMAs.call(this,s,C);function C(i){return(F.high-i)*e.height/(F.high-F.low)}function b(J){var I=J*(d.spaceWidth+d.barWidth)+(d.spaceWidth+d.barWidth)*0.5;if(I*10%10==0){I+=0.5}return I}var y=0;var c=d.barWidth>1.5;var f=function(L,S,R){var M=L.close>=L.open;if(L.close==L.open&&L.open<L.preClose){M=false}var P=M?riseColor:fallColor;var K=b(R);if(y==0){y=K}else{if(K-y<1){return}}y=K;var J=C(L.high);var O=C(L.low);if(c){var N,I;if(M){N=C(L.close);I=(C(L.open)-N<=0?1:C(L.open)-N);P=(C(L.open)-N<0?normalColor:P)}else{N=C(L.open);I=(C(L.close)-N<=0?1:C(L.close)-N);P=(C(L.close)-N<0?normalColor:P)}v.fillStyle=P;v.strokeStyle=P;v.lineWidth=1;v.beginPath();v.moveTo(K,J);v.lineTo(K,O);v.stroke();var Q=K-d.barWidth/2;v.beginPath();v.fillRect(Q,N,d.barWidth,I)}else{v.strokeStyle=P;v.lineWidth=1;v.beginPath();v.moveTo(K,J);v.lineTo(K,O);v.stroke()}};s.each(f);this.filteredData=s;if(this.filteredData.length!=0){var D=d.yAxis;D.region=D.region||{x:0-e.x,y:0-3,height:e.height,width:e.x-3};var a=new yAxis(D);var p=new Painter(this.canvas.id,a,calcAxisValues(q,H,(d.horizontalLineCount+2)));p.paint()}var h=d.xAxis;h.region={x:0,y:e.height+2,width:e.width,height:20};var r=new xAxis(h);var B=[];var u=s.length/(d.xAxis.scalerCount-1);if(u<1){d.xAxis.scalerCount=s.length;u=1}if(s.length!=0){B.push(convertDate(s[0].quoteTime,false).substr(2))}if(o>=25){for(var A=1;A<d.xAxis.scalerCount;A++){var l=Math.ceil(A*u);if(l>=s.length){l=s.length-1}var x=convertDate(s[l].quoteTime,false);x=x.substr(2);B.push(x)}}var E=new Painter(this.canvas.id,r,B);E.paint();this.implement.paintVolume.call(this,s)},paintPriceLine:function(){if(this.hasPaintPriceLine){return}this.hasPaintPriceLine=true;var q=this.ctx;var r=this.klOptions.priceLine;var h=r.region;q.save();q.translate(h.x,h.y);q.clearRect(0-h.x,0,this.canvas.width,h.height);var m=h.height/(r.horizontalLineCount+1);for(var c=1;c<=r.horizontalLineCount;c++){var g=m*c;if(g*10%10==0){g+=0.5}this.drawHLine(r.splitLineColor,0,g,h.width,1,r.lineStyle)}var p=h.width/(r.verticalLineCount+1);for(var c=1;c<=r.verticalLineCount;c++){var n=p*c;if(n*10%10==0){n+=0.5}this.drawVLine(r.splitLineColor,n,0,h.height,1,r.lineStyle)}var k=this.data.ks;var e=k.length;var d;k.each(function(u,s,t){if(t==0){d={high:u.high,low:u.low}}else{d.high=Math.max(d.high,u.close);d.low=Math.min(d.low,u.close)}});if(d.low>1){d.low-=1}function l(s){return s*h.width/e}function j(i){return(d.high-i)*h.height/(d.high-d.low)}var a=0;k.each(function(v,t,u){var s=l(u);if(a==0){a=s}else{if(s-a<1){return}}a=s;var w=j(v.close);if(u==0){q.lineWidth=1;q.beginPath();q.moveTo(s,w)}else{q.lineWidth=1;q.lineTo(s,w)}});q.strokeStype=r.borderColor;q.stroke();q.lineTo(h.width,h.height);q.lineTo(0,h.height);q.closePath();q.fillStyle=r.fillColor;q.globalAlpha=r.alpha;q.fill();q.globalAlpha=1;var o=r.yAxis;o.region=o.region||{x:0-h.x,y:0-3,height:h.height,width:h.x-3};var b=new yAxis(o);var f=new Painter(this.canvas.id,b,calcAxisValues(d.high,d.low,(r.horizontalLineCount+2)));f.paint();q.restore()},paintMAs:function(f,e){var a=this.ctx;var c=this.klOptions;var b=c.MAs;var d=this;b.each(function(j,h,i){var g=calcMAPrices(d.data.ks,d.startIndex,f.length,j.daysCount);j.values=g;g.each(function(m,k,l){if(m){d.high=Math.max(d.high,m);d.low=Math.min(d.low,m)}})});b.each(function(k,h,j){var g=k.values;a.strokeStyle=k.color;a.lineWidth=1;a.beginPath();var i=0;g.each(function(o,m,n){var l=n*(c.spaceWidth+c.barWidth)+(c.spaceWidth+c.barWidth)*0.5;if(!o){return}var p=e(o);if(p&&n==0){a.moveTo(l,p)}else{a.lineTo(l,p)}});a.stroke()})},paintVolume:function(k){var n=this.ctx;var b=this.klOptions;var d=b.volume;var s=d.region;n.restore();n.save();n.translate(s.x,s.y);n.clearRect(0-s.x,0,this.canvas.width,s.height);n.globalAlpha=1;var r=s.height/(d.horizontalLineCount+1);for(var o=1;o<=d.horizontalLineCount;o++){var f=r*o;if(f*10%10==0){f+=0.5}this.drawHLine(b.splitLineColor,0,f,b.region.width,1,b.lineStyle)}var c=b.region.width/(b.verticalLineCount+1);for(var o=1;o<=b.verticalLineCount;o++){var h=c*o;if(h*10%10==0){h+=0.5}this.drawVLine(b.splitLineColor,h,0,s.height,1,b.lineStyle)}n.lineWidth=1;n.strokeStyle=b.borderColor;n.beginPath();n.rect(0,0,s.width,s.height);n.stroke();var p=0;k.each(function(w,u,v){p=Math.max(p,w.volume)});function l(i){return s.height-s.height/p*i}function m(u){return u*(b.spaceWidth+b.barWidth)+(b.spaceWidth)*0.5}n.globalAlpha=1;k.each(function(z,v,w){var u=m(w);var A=l(z.volume);n.lineWidth=1;n.beginPath();n.rect(u,A,b.barWidth,s.height/p*z.volume);n.fillStyle=z.close>z.open?riseColor:fallColor;n.fill()});var j;var t;if(p<10000*100){j=10000;t="\u4e07"}else{j=10000*100;t="\u767e\u4e07"}var q=[];q.push((p/j).toFixed(2));q.push((p/2/j).toFixed(2));q.push(t);var g=d.yAxis;g.region=g.region||{x:0-s.x,y:-3,width:s.x-3,height:s.height};var e=new yAxis(g);var a=new Painter(this.canvas.id,e,q);a.paint();n.restore();n.save()}};function cvsLoading(b,a){this.canvas=b;if(a){this.radius=a.radius||12;this.circleLineWidth=a.circleLineWidth||4;this.circleColor=a.circleColor||"lightgray";this.moveArcColor=a.moveArcColor||"gray"}else{this.radius=12;this.circelLineWidth=4;this.circleColor="lightgray";this.moveArcColor="gray"}}cvsLoading.prototype={show:function(){var c=this.canvas;if(!c.getContext){return}if(c.__loading){return}c.__loading=this;var b=c.getContext("2d");var a=this.radius;var e=this;var f=Math.PI*1.5;var d=Math.PI/6;c.loadingInterval=setInterval(function(){b.clearRect(0,0,c.width,c.height);var h=e.circleLineWidth;var g={x:c.width/2-a,y:c.height/2-a};b.beginPath();b.lineWidth=h;b.strokeStyle=e.circleColor;b.arc(g.x,g.y,a,0,Math.PI*2);b.closePath();b.stroke();b.beginPath();b.strokeStyle=e.moveArcColor;b.arc(g.x,g.y,a,f,f+Math.PI*0.45);b.stroke();f+=d},50)},hide:function(){var b=this.canvas;b.__loading=false;if(b.loadingInterval){window.clearInterval(b.loadingInterval)}var a=b.getContext("2d");if(a){a.clearRect(0,0,b.width,b.height)}}};
